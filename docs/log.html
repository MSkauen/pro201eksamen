<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/stylesheet.css">
    <meta charset="utf-8"/>
    <title>Smidig prosjekt</title>
  </head>
 <body>
   <header>
     <div class="navbar">
       <a href="https://mskauen.github.io/pro201eksamen/">
         <div class="navItem">
           <img src="img/logo.png" alt="">
         </div>
       </a>
       <a href="https://mskauen.github.io/pro201eksamen/">
         <div class="navItem">
           <img src="img/help.png" alt="">
         </div>
       </a>
     </div>
     <div class="subNavbar">
      <ul class="breadcrumb">
        <li>
          <a href="https://mskauen.github.io/pro201eksamen/"><img src="img/logout.png" alt=""></a>
        </li>
        <li>
          <a href="https://mskauen.github.io/pro201eksamen/main.html"><img src="img/home.png" alt=""></a>
        </li>
        <li>
          <a href="https://mskauen.github.io/pro201eksamen/input.html"><img src="img/barcode-white.png" alt=""></a>
        </li>
        <li>
          <a href="https://mskauen.github.io/pro201eksamen/input.html"><img src="img/logImg.png" alt=""></a>
        </li>
      </ul>
     </div>
   </header>
   <div class="mainContainer">
     <div id="logContainer" align="center">
      <div class="logHeader">
       <img src="img/parts.png" alt="">
       <div class="logDetails">
         <h2>765AJGL5965IO</h2>
         <h2>Select replaced part:</h2>
       </div>
      </div>
      <div class="partsContainer">
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/battery.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/solar_panel.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_batteryBox-PCBA_screws.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_cable2.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_dongle.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_dongle_WBatterypack.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_power_switch_cover.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_power_switch_cover_2.0-smart.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_power_switch_cover_rev_E-D.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_pcb.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_solarPower-USB_plug_cover.png" alt="">
          <div>
          </div>
        </div>
        <div tabindex="0" class="dot" data-value="0">
          <img src="img/parts/new/sunBell_usb_rev_D_2.6.png" alt="">
          <div>
          </div>
        </div>
      </div>
      <form action="tmi.html" method="get">
        <button type="submit" name="submitButton" id="loginButton"></button>
      </form>
     </div>
   </div>
 </body>
<script>

  
<!-- SKRIV OM DETTE ETTER OMGJORING TIL REACT -->

<!-- Henter alle checkboxes og submit knappen -->
var checkboxes = document.getElementsByClassName("dot");
var submitButton = document.querySelector("button");

<!-- Itererer gjennom checkboxes array og legger til en EventListener på alle elementer-->
  for (checkbox of checkboxes) {
    checkbox.addEventListener("click", check);
  }
  submitButton.addEventListener("click", storeSelections)


function check(e) {
  <!--Henter bilde som blir klikket på, finner parentNode og setter den som checkbox variabel-->
  <!--Under finner vi checkmark elementet til dette spesifike elementet -->
  var checkbox = e.target.parentNode;
  var checkmark = checkbox.querySelector("div");

  <!--Alle deler sin div har en data-value verdi som brukes som en boolean -->
  <!--Med denne kan vi lage en enkel "on/off" funksjon -->
  if(checkbox.getAttribute("data-value") == 0) {
    checkbox.setAttribute("data-value", 1);
    checkmark.className = "miniDot";
  } else if(checkbox.getAttribute("data-value") == 1) {
      checkbox.setAttribute("data-value", 0);
      checkmark.className = " ";
    }
}
<!--Funksjon som itererer gjennom alle deler og sjekker hvilke som skal lagres-->
<!--ved hjelp av data-value verdi-->
function storeSelections() {
  var checkedCheckboxes = [];

  for (checkbox of checkboxes) {
    if(checkbox.getAttribute("data-value") == 1) {
      checkbox.setAttribute("data-value", 0)
      checkbox.querySelector("div").remove();
      checkedCheckboxes.push(checkbox.outerHTML);
    }
  }
  var jsonStringify = JSON.stringify(checkedCheckboxes);
  localStorage.setItem("parts", jsonStringify);
}
</script>
</html>
